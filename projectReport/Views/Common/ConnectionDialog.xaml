<Window x:Class="ProjectReport.Views.ConnectionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Database Connection" Height="450" Width="550"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">

    <Grid Margin="25">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,25">
            <Border Background="{StaticResource SecondaryAccentBrush}" Width="4" Height="28" Margin="0,0,12,0" CornerRadius="2"/>
            <TextBlock Text="î ž" FontFamily="Segoe Fluent Icons" FontSize="20" Foreground="{StaticResource SecondaryAccentBrush}" Margin="0,0,12,0" VerticalAlignment="Center"/>
            <TextBlock Text="Connect to SQL Server" FontSize="22" FontWeight="SemiBold" VerticalAlignment="Center"/>
        </StackPanel>

        <!-- Content -->
        <Border Grid.Row="1" Background="{StaticResource ContentBackgroundBrush}" CornerRadius="6" Padding="20">
            <StackPanel>

                <!-- Server -->
                <TextBlock Text="Server:" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,4"/>
                <TextBox x:Name="ServerTextBox" Margin="0,0,0,18" Padding="10,8" Text="localhost" Background="{StaticResource TextBoxBackgroundBrush}" Height="35"/>

                <!-- Database -->
                <TextBlock Text="Database:" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,4"/>
                <TextBox x:Name="DatabaseTextBox" Margin="0,0,0,18" Padding="10,8" Text="ProjectReport" Background="{StaticResource TextBoxBackgroundBrush}" Height="35"/>

                <!-- Authentication Type -->
                <TextBlock Text="Authentication:" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,4"/>
                <ComboBox x:Name="AuthComboBox" Margin="0,0,0,18" Padding="10,8" Background="{StaticResource TextBoxBackgroundBrush}" Height="35">
                    <ComboBoxItem Content="Windows Authentication" IsSelected="True"/>
                    <ComboBoxItem Content="SQL Server Authentication"/>
                </ComboBox>

                <!-- SQL Authentication Fields -->
                <Grid x:Name="SqlAuthGrid" Visibility="Collapsed">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="Username:" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,4"/>
                    <TextBox Grid.Row="1" x:Name="UsernameTextBox" Margin="0,0,0,18" Padding="10,8" Background="{StaticResource TextBoxBackgroundBrush}" Height="35"/>

                    <TextBlock Grid.Row="2" Text="Password:" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,4"/>
                    <PasswordBox Grid.Row="3" x:Name="PasswordBox" Padding="10,8" Background="{StaticResource TextBoxBackgroundBrush}" Height="35"/>
                </Grid>

                <!-- Test Connection -->
                <Button x:Name="TestConnectionButton" Margin="0,20,0,0" Padding="12,8" Click="TestConnectionButton_Click"
                        Style="{StaticResource DefaultButton}" Cursor="Hand" Height="38"
                        Content="Test Connection"/>

            </StackPanel>
        </Border>

        <!-- Bottom Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,25,0,0">

            <Button Width="120" Margin="0,0,12,0" Height="38" Padding="12,8"
                    Click="CancelButton_Click" Cursor="Hand"
                    Background="{StaticResource ButtonHoverBrush}" Foreground="White" BorderThickness="0"
                    Content="Cancel"/>

            <Button Width="120" Height="38" Padding="12,8"
                    Click="ConnectButton_Click"
                    Style="{StaticResource DefaultButton}" Cursor="Hand"
                    Content="Connect"/>
        </StackPanel>
    </Grid>
</Window>
